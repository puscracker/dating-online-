<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíò RealConnect - Real Dating Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Auth Modal -->
    <div id="authModal" class="modal">
        <div class="modal-content">
            <div class="auth-tabs">
                <button class="tab-btn active" data-tab="login">Login</button>
                <button class="tab-btn" data-tab="signup">Sign Up</button>
            </div>
            
            <!-- Login Form -->
            <div id="loginForm" class="auth-form active">
                <h2>Welcome Back</h2>
                <div class="form-group">
                    <input type="email" id="loginEmail" placeholder="Email" required>
                </div>
                <div class="form-group">
                    <input type="password" id="loginPassword" placeholder="Password" required>
                </div>
                <button onclick="login()" class="btn-primary">Login</button>
                <p class="auth-switch">Don't have an account? <a href="#" onclick="showTab('signup')">Sign up</a></p>
            </div>
            
            <!-- Signup Form -->
            <div id="signupForm" class="auth-form">
                <h2>Create Account</h2>
                <div class="form-group">
                    <input type="text" id="signupName" placeholder="Full Name" required>
                </div>
                <div class="form-group">
                    <input type="email" id="signupEmail" placeholder="Email" required>
                </div>
                <div class="form-group">
                    <input type="password" id="signupPassword" placeholder="Password" required>
                </div>
                <div class="form-group">
                    <input type="number" id="signupAge" placeholder="Age" min="18" max="100" required>
                </div>
                <div class="form-group">
                    <select id="signupGender" required>
                        <option value="">Select Gender</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <textarea id="signupBio" placeholder="Tell us about yourself..." rows="3"></textarea>
                </div>
                <button onclick="signup()" class="btn-primary">Create Account</button>
                <p class="auth-switch">Already have an account? <a href="#" onclick="showTab('login')">Login</a></p>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="app" class="hidden">
        <!-- Header -->
        <header>
            <div class="logo">üíò RealConnect</div>
            <nav>
                <a href="#" onclick="loadPage('discover')" class="nav-link active">
                    <i class="fas fa-fire"></i> Discover
                </a>
                <a href="#" onclick="loadPage('matches')" class="nav-link">
                    <i class="fas fa-heart"></i> Matches
                    <span id="matchesBadge" class="badge">0</span>
                </a>
                <a href="#" onclick="loadPage('messages')" class="nav-link">
                    <i class="fas fa-comments"></i> Messages
                    <span id="messagesBadge" class="badge">0</span>
                </a>
                <a href="#" onclick="loadPage('profile')" class="nav-link">
                    <i class="fas fa-user"></i> Profile
                </a>
            </nav>
            <button onclick="logout()" class="btn-logout">
                <i class="fas fa-sign-out-alt"></i>
            </button>
        </header>

        <!-- Pages -->
        <main>
            <!-- Discover Page -->
            <div id="discoverPage" class="page active">
                <div class="page-header">
                    <h2>Discover People</h2>
                    <div class="filters">
                        <select id="genderFilter">
                            <option value="all">All Genders</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                        </select>
                        <select id="ageFilter">
                            <option value="18-30">18-30</option>
                            <option value="31-40">31-40</option>
                            <option value="41-50">41-50</option>
                        </select>
                    </div>
                </div>
                <div id="profilesContainer" class="profiles-grid">
                    <!-- Profiles loaded here -->
                </div>
            </div>

            <!-- Matches Page -->
            <div id="matchesPage" class="page">
                <div class="page-header">
                    <h2>Your Matches</h2>
                </div>
                <div id="matchesContainer" class="matches-grid">
                    <!-- Matches loaded here -->
                </div>
            </div>

            <!-- Messages Page -->
            <div id="messagesPage" class="page">
                <div class="page-header">
                    <h2>Messages</h2>
                </div>
                <div id="conversationsList" class="conversations">
                    <!-- Conversations loaded here -->
                </div>
            </div>

            <!-- Profile Page -->
            <div id="profilePage" class="page">
                <div class="profile-header">
                    <div class="profile-avatar" id="profileAvatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="profile-info">
                        <h2 id="profileName">Loading...</h2>
                        <p id="profileAgeGender">Age ‚Ä¢ Gender</p>
                        <p id="profileLocation">üìç Location not set</p>
                    </div>
                </div>
                
                <div class="profile-section">
                    <h3>About Me</h3>
                    <p id="profileBio">No bio yet</p>
                </div>
                
                <div class="profile-section">
                    <h3>My Photos</h3>
                    <div class="photos-grid" id="photosGrid">
                        <!-- Photos loaded here -->
                    </div>
                    <button onclick="uploadPhoto()" class="btn-secondary">
                        <i class="fas fa-plus"></i> Add Photo
                    </button>
                </div>
                
                <div class="profile-actions">
                    <button onclick="editProfile()" class="btn-primary">
                        <i class="fas fa-edit"></i> Edit Profile
                    </button>
                    <button onclick="showSettings()" class="btn-secondary">
                        <i class="fas fa-cog"></i> Settings
                    </button>
                </div>
            </div>
        </main>
    </div>

    <!-- Chat Modal -->
    <div id="chatModal" class="modal hidden">
        <div class="modal-content chat-modal">
            <div class="chat-header">
                <button onclick="closeChat()" class="btn-back">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <div class="chat-user-info">
                    <div class="chat-avatar" id="chatAvatar"></div>
                    <div>
                        <h3 id="chatUserName">User</h3>
                        <p id="chatUserStatus">Online</p>
                    </div>
                </div>
            </div>
            <div class="chat-messages" id="chatMessages">
                <!-- Messages loaded here -->
            </div>
            <div class="chat-input">
                <input type="text" id="messageInput" placeholder="Type a message...">
                <button onclick="sendMessage()" class="btn-send">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Photo Upload -->
    <input type="file" id="photoUpload" accept="image/*" hidden onchange="handlePhotoUpload(event)">

    <!-- Notification -->
    <div id="notification" class="notification hidden">
        <span id="notificationText"></span>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-storage.js"></script>
    <script src="script.js"></script>
</body>
</html>
